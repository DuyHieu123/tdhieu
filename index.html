<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trần Duy Hiếu | Lab</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;900&display=swap" rel="stylesheet">
    
    <script src="https://www.gstatic.com/firebasejs/9.17.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.17.1/firebase-database-compat.js"></script>

    <style>
        body { background: #050505; color: white; font-family: 'Inter', sans-serif; }
        .hero-title { font-size: clamp(3rem, 10vw, 8rem); font-weight: 900; line-height: 0.9; }
        .project-card { background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.1); border-radius: 24px; transition: 0.3s; }
        .project-card:hover { border-color: #00f2ff; background: rgba(0,242,255,0.02); }
    </style>
</head>
<body>

    <section class="min-h-screen flex flex-col justify-center px-6 md:px-20">
        <p class="text-cyan-400 font-bold tracking-[0.3em] mb-4 uppercase text-sm">Portfolio / 2025</p>
        <h1 class="hero-title italic tracking-tighter mb-8">TRẦN DUY<br><span class="text-cyan-400">HIẾU.</span></h1>
        <div class="flex gap-6">
            <a href="#projects" class="bg-white text-black font-black px-8 py-4 rounded-full text-xs uppercase hover:bg-cyan-400 transition">Khám phá ngay</a>
        </div>
    </section>

    <section id="projects" class="max-w-6xl mx-auto py-32 px-6">
        <h2 class="text-3xl font-black mb-12 uppercase italic border-l-4 border-cyan-400 pl-4">Kho dự án công khai</h2>
        <div id="project-list" class="grid grid-cols-1 md:grid-cols-2 gap-8 text-left">
            </div>
    </section>

    <script>
        // --- CHỖ QUAN TRỌNG NHẤT: Dán link Firebase của Hiếu vào đây ---
        const firebaseConfig = { 
            databaseURL: "https://my-portfolio-690a9-default-rtdb.firebaseio.com/" 
        };
        // -------------------------------------------------------------

        firebase.initializeApp(firebaseConfig);
        const db = firebase.database();

        // Lệnh "Hút" dữ liệu từ Firebase ra màn hình
        db.ref('projects').on('value', (snapshot) => {
            const list = document.getElementById('project-list');
            list.innerHTML = ''; // Xóa sạch để tải mới
            
            if(!snapshot.exists()) {
                list.innerHTML = "<p class='text-gray-600'>Đang đợi Hiếu đăng bài đầu tiên...</p>";
                return;
            }

            snapshot.forEach((child) => {
                const data = child.val();
                const card = document.createElement('div');
                card.className = "project-card p-8";
                card.innerHTML = `
                    <div class="flex justify-between mb-6">
                        <span class="text-[10px] font-bold text-gray-500 uppercase tracking-widest">${data.type}</span>
                        ${data.download ? `<a href="${data.download}" target="_blank" class="text-cyan-400 font-bold text-xs underline">DOWNLOAD</a>` : ''}
                    </div>
                    <h3 class="text-2xl font-black mb-4 uppercase">${data.title}</h3>
                    <div class="bg-black/50 p-4 rounded-xl">
                        ${data.type === 'code' ? `<pre class="text-xs text-green-400 overflow-x-auto"><code>${data.content.replace(/</g, "&lt;")}</code></pre>` : `<p class="text-gray-400 text-sm">${data.content}</p>`}
                    </div>
                `;
                list.prepend(card); // Bài mới hiện lên đầu
            });
        });
    </script>
</body>
</html>
